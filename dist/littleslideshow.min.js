/**
 * @file LittleSlideshow v0.1
 * @author Little Apps (https://www.little-apps.com)
 * @license MIT License
 * @see {@link https://github.com/little-apps/LittleSlideshow|GitHub Project}
 */
!function(i,t,e){var h=function(i,e,h){var a={},n={};if(a.init=function(i){this.args=t.extend({maxWidth:0,maxHeight:0,insertAfter:!1,thumbnailWidth:50,thumbnailHeight:50,maxThumbnailWidth:0,maxThumbnailHeight:0,slideDuration:400,changeSlideEvery:0},i),this.fullSizeContainer=t('<div class="slideshow-fullsize"><div class="container"><div class="row"><ul class="slider"></ul></div></div></div>'),this.thumbnailsContainer=t('<div class="slideshow-thumbnails"><div class="container"><div class="row"><ul class="thumbnails"></ul></div></div></div>'),this.fullSizeList=t("ul.slider",this.fullSizeContainer),this.thumbnailsList=t("ul.thumbnails",this.thumbnailsContainer),this.container=t('<div class="slideshow"></div>').append(this.fullSizeContainer,this.thumbnailsContainer),this.highlightedIndex=-1},n.setupTimer=function(){a.args.changeSlideEvery&&(a.timer=setInterval(function(){a.highlightedIndex<0?a.highlightedIndex=a.highlightedListIndex():a.highlightedIndex+1>=a.images.length?a.highlightedIndex=0:a.highlightedIndex++;var i=t("li",a.fullSizeList).get(a.highlightedIndex);a.select(i)},a.args.changeSlideEvery))},n.stopTimer=function(){clearInterval(a.timer)},a.highlightedListIndex=function(){for(var i=t("li",this.fullSizeList),e=Math.floor(window.innerWidth/2),h=0;h<i.length;h++){var a=t(i[h]);if(1==t("img",a).css("opacity"))return h;if(e>=a.offset().left&&e<=a.offset().left+a.innerWidth())return h}return 0},a.addItem=function(i,e,h){if(""==(i=t.extend({src:"",width:"",height:"",alt:"",anchorTitle:""},i)).src)return!0;var s=t("<a>").attr("href","#"+(e+1)).attr("title",i.anchorTitle),l=t("<img>").attr("alt",i.alt);i.width>0&&l.attr("width",i.width),i.height>0&&l.attr("height",i.height);var r=t("<img>").attr({src:i.src,alt:i.alt});this.args.thumbnailWidth>0&&r.attr("width",this.args.thumbnailWidth),this.args.thumbnailHeight>0&&r.attr("height",this.args.thumbnailHeight);var d=t("<li></li>").append(s.clone().append(l)),g=t("<li></li>").append(s.clone().append(r));this.fullSizeList.append(d),this.thumbnailsList.append(g),t(l).on("load",function(){a.args.maxHeight>0&&t(this).height()>a.args.maxHeight&&t(this).css({height:a.args.maxHeight,width:"auto"}),a.args.maxWidth>0&&t(this).width()>a.args.maxWidth&&t(this).css({width:a.args.maxWidth,height:"auto"}),d.data("leftOffset",a.currentOffset),0==a.currentOffset&&(a.select(d),a.highlightedIndex=0,n.setupTimer()),a.currentOffset+=t(this).innerWidth()}),t(r).on("load",function(){a.args.maxThumbnailHeight>0&&t(this).height()>a.args.maxThumbnailHeight&&t(this).css({height:a.args.maxThumbnailHeight,width:"auto"}),a.args.maxThumbnailWidth>0&&t(this).width()>a.args.maxThumbnailWidth&&t(this).css({width:a.args.maxThumbnailWidth,height:"auto"})}),l.attr("src",i.src),r.attr("src",i.src),t("a",d).click(function(i){i.preventDefault(),a.select(d),a.highlightedIndex=e}),t("a",g).click(function(i){i.preventDefault(),t("a[href='"+t(this).attr("href")+"']",t("ul.slider",this.fullSizeContainer)).click()})},a.select=function(i){var e=Math.floor(window.innerWidth/2)-Math.floor(t(i).innerWidth()/2),h=-1*t(i).data("leftOffset");a.fullSizeList.animate({left:h+e+"px"},a.slideDuration,function(){a.highlight()})},a.highlight=function(){var i=Math.floor(window.innerWidth/2);t("li",this.fullSizeList).each(function(){var e=.25,h=t(this).offset().left,n=t(this).innerWidth(),s=t("a",this);i>=h&&i<=h+n&&(e=1),t("img",this).css("opacity",e),t("a[href='"+s.attr("href")+"'] img",a.thumbnailsList).css("opacity",e)})},a.images=e,0!=a.images.length){a.init(h||{}),a.element=i instanceof t?i:t(i);a.args.insertAfter?t(a.element).after(a.container):t(a.element).append(a.container),a.currentOffset=0;for(var s=0;s<a.images.length;s++)a.addItem(a.images[s],s);return n}};t.fn.LittleSlideshow=function(i,t){return new h(this,i,t)},i.LittleSlideshow=h}(this,jQuery);